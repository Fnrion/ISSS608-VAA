{
  "hash": "613434721df2676b33b358aff4cddf2d",
  "result": {
    "engine": "knitr",
    "markdown": "---\ntitle: \"Hands-on Exercise 4(a)\"\nauthor: \"Zou Jiaxun\"\ndate: \"April 30, 2024\"\ndata-modified: \"last-modified\"\nexecute: \n  eval: true\n  echo: true\n  warning: false\n  freeze: true\nformat:\n  html:\n    code-fold: true\n    code-summary: \"Click to view code\"\n---\n\n\n## **1 Learning Outcome**\n\nIn this hands-on exercise, you will gain hands-in experience on using:\n\n-   ggstatsplot package to create visual graphics with rich statistical information\n-   performance package to visualise model diagnostics, and\n-   oarameters package to visualise model parameters\n\n## **2 Visual Statistical Analysis with ggstatsplot**\n\n[ggstatsplot](https://indrajeetpatil.github.io/ggstatsplot/) ![](logo%20(ggstatsplot).png){width=\"30\"} is an extension of [ggplot2](https://github.com/tidyverse/ggplot2) package for creating graphics with\n\ndetails from statistical tests included in the information-rich plots themselves.\n\n## **3 Getting started**\n\n### 3.1 Installing and launching R packages\n\nIn this exercise, **ggstatsplot** and **tidyverse** will be used.\n\n\n::: {.cell}\n\n```{.r .cell-code}\npacman::p_load(ggstatsplot, tidyverse, dplyr)\n```\n:::\n\n\n### **3.2 Importing Data**\n\n::: callout-note\n## DoDoDo\n\nImporting *Exam.csv* data by using appropriate tidyverse package.\n:::\n\n\n::: {.cell}\n\n```{.r .cell-code}\nExam_data <- read.csv(\"data/Exam_data.csv\")\nExam_data\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n            ID CLASS GENDER    RACE ENGLISH MATHS SCIENCE\n1   Student321    3I   Male   Malay      21     9      15\n2   Student305    3I Female   Malay      24    22      16\n3   Student289    3H   Male Chinese      26    16      16\n4   Student227    3F   Male Chinese      27    77      31\n5   Student318    3I   Male   Malay      27    11      25\n6   Student306    3I Female   Malay      31    16      16\n7   Student313    3I   Male Chinese      31    21      25\n8   Student316    3I   Male   Malay      31    18      27\n9   Student312    3I   Male   Malay      33    19      15\n10  Student297    3H   Male  Indian      34    49      37\n11  Student314    3I   Male Chinese      34    39      42\n12  Student278    3H Female   Malay      36    35      22\n13  Student302    3I Female Chinese      36    23      32\n14  Student323    3I   Male Chinese      36    36      36\n15  Student296    3H   Male Chinese      37    49      35\n16  Student311    3I Female Chinese      38    30      45\n17  Student304    3I Female   Malay      39    21      21\n18  Student307    3I Female   Malay      39    24      35\n19  Student259    3G   Male   Malay      40    54      26\n20  Student273    3H Female   Malay      40    36      24\n21  Student292    3H   Male   Malay      40    40      31\n22  Student303    3I Female   Malay      40    20      32\n23  Student177    3E   Male Chinese      41    71      40\n24  Student253    3G   Male  Others      41    51      37\n25  Student294    3H   Male   Malay      41    32      26\n26  Student287    3H   Male   Malay      42    32      27\n27  Student293    3H   Male   Malay      42    37      23\n28  Student290    3H   Male   Malay      43    30      31\n29  Student295    3H   Male  Indian      43    35      38\n30  Student319    3I   Male  Indian      43    25      24\n31  Student309    3I Female   Malay      44    24      24\n32  Student315    3I   Male   Malay      44    19      35\n33  Student288    3H   Male Chinese      45    50      27\n34  Student301    3I Female   Malay      45    32      30\n35  Student248    3G   Male Chinese      46    55      17\n36  Student277    3H Female   Malay      46    31      34\n37  Student171    3E Female Chinese      48    56      49\n38  Student324    3I   Male Chinese      48    41      41\n39  Student258    3G   Male   Malay      49    30      32\n40  Student282    3H Female Chinese      49    44      19\n41  Student298    3H   Male   Malay      49    41      32\n42  Student317    3I   Male   Malay      49    34      31\n43  Student276    3H Female   Malay      50    35      40\n44  Student286    3H   Male   Malay      50    56      36\n45  Student310    3I Female   Malay      50    58      50\n46  Student215    3F Female Chinese      51    74      54\n47  Student200    3F Female Chinese      52    71      47\n48  Student202    3F Female Chinese      52    55      39\n49  Student264    3G   Male  Indian      52    42      16\n50  Student322    3I   Male   Malay      52    58      41\n51  Student117    3C   Male Chinese      53    90      46\n52  Student199    3F Female Chinese      53    77      57\n53  Student251    3G   Male Chinese      53    51      45\n54  Student320    3I   Male   Malay      53    25      48\n55  Student188    3E   Male Chinese      54    65      40\n56  Student231    3F   Male Chinese      54    78      60\n57  Student255    3G   Male Chinese      54    54      32\n58  Student262    3G   Male   Malay      54    59      45\n59  Student265    3G   Male Chinese      54    38      46\n60  Student271    3H Female Chinese      54    52      52\n61  Student272    3H Female   Malay      54    33      37\n62  Student279    3H Female  Indian      54    48      53\n63  Student283    3H Female   Malay      55    43      45\n64  Student284    3H Female Chinese      55    56      45\n65  Student241    3G Female   Malay      56    52      57\n66  Student261    3G   Male   Malay      56    37      34\n67  Student291    3H   Male   Malay      56    44      46\n68  Student299    3H   Male   Malay      56    52      59\n69  Student198    3F Female Chinese      57    74      62\n70  Student201    3F Female Chinese      57    67      67\n71  Student212    3F Female   Malay      57    63      55\n72  Student226    3F   Male   Malay      57    75      58\n73  Student240    3G Female   Malay      57    49      45\n74  Student266    3G Female Chinese      57    47      64\n75  Student274    3H Female   Malay      57    50      39\n76  Student179    3E   Male Chinese      58    69      57\n77  Student185    3E   Male   Malay      58    78      66\n78  Student224    3F   Male   Malay      58    64      60\n79  Student280    3H Female   Malay      58    47      47\n80  Student281    3H Female  Indian      58    40      46\n81  Student163    3E Female   Malay      59    58      36\n82  Student225    3F   Male   Malay      59    74      45\n83  Student115    3C   Male Chinese      60    72      52\n84  Student203    3F Female Chinese      60    75      61\n85  Student246    3G Female   Malay      60    43      44\n86  Student263    3G   Male  Indian      60    68      63\n87  Student082    3C Female Chinese      61    85      68\n88  Student114    3C   Male Chinese      61    79      50\n89  Student119    3D Female Chinese      61    62      49\n90  Student191    3E   Male Chinese      61    88      52\n91  Student206    3F Female   Malay      61    62      55\n92  Student219    3F   Male   Malay      61    63      60\n93  Student244    3G Female   Malay      61    58      46\n94  Student269    3H Female Chinese      61    52      46\n95  Student186    3E   Male Chinese      62    85      74\n96  Student189    3E   Male Chinese      62    58      59\n97  Student210    3F Female Chinese      62    74      68\n98  Student221    3F   Male   Malay      62    58      58\n99  Student245    3G Female   Malay      62    45      52\n100 Student260    3G   Male   Malay      62    79      57\n101 Student085    3C Female Chinese      63    64      49\n102 Student106    3C   Male Chinese      63    84      44\n103 Student148    3D   Male Chinese      63    74      63\n104 Student220    3F   Male Chinese      63    71      64\n105 Student235    3G Female   Malay      63    50      48\n106 Student270    3H Female Chinese      63    70      53\n107 Student285    3H Female Chinese      63    46      50\n108 Student300    3H Female  Others      63    67      65\n109 Student141    3D   Male  Indian      64    78      76\n110 Student157    3E Female Chinese      64    66      67\n111 Student175    3E   Male   Malay      64    66      54\n112 Student176    3E   Male Chinese      64    64      49\n113 Student184    3E   Male   Malay      64    65      63\n114 Student209    3F Female   Malay      64    69      55\n115 Student252    3G   Male Chinese      64    36      41\n116 Student275    3H Female   Malay      64    54      54\n117 Student098    3C   Male Chinese      65    90      63\n118 Student105    3C   Male Chinese      65    80      73\n119 Student155    3D   Male Chinese      65    68      66\n120 Student156    3E Female Chinese      65    78      65\n121 Student167    3E Female   Malay      65    79      51\n122 Student228    3F   Male   Malay      65    65      60\n123 Student234    3G Female   Malay      65    49      41\n124 Student238    3G Female Chinese      65    81      78\n125 Student133    3D Female   Malay      66    76      56\n126 Student162    3E Female   Malay      66    61      56\n127 Student180    3E   Male Chinese      66    71      72\n128 Student197    3F Female Chinese      66    72      61\n129 Student208    3F Female   Malay      66    64      69\n130 Student213    3F Female   Malay      66    70      61\n131 Student218    3F   Male Chinese      66    63      64\n132 Student229    3F   Male Chinese      66    80      74\n133 Student242    3G Female Chinese      66    63      50\n134 Student256    3G   Male   Malay      66    64      61\n135 Student112    3C   Male Chinese      67    73      54\n136 Student140    3D   Male Chinese      67    86      76\n137 Student183    3E   Male   Malay      67    72      63\n138 Student211    3F Female  Others      67    70      68\n139 Student223    3F   Male   Malay      67    68      59\n140 Student232    3F Female Chinese      67    95      84\n141 Student233    3F Female Chinese      67    80      56\n142 Student243    3G Female   Malay      67    53      44\n143 Student249    3G   Male Chinese      67    81      74\n144 Student254    3G   Male Chinese      67    74      59\n145 Student026    3A   Male Chinese      68    87      66\n146 Student097    3C   Male   Malay      68    63      50\n147 Student116    3C   Male Chinese      68    79      77\n148 Student145    3D   Male Chinese      68    83      65\n149 Student159    3E Female   Malay      68    74      58\n150 Student190    3E   Male  Others      68    67      59\n151 Student207    3F Female   Malay      68    69      65\n152 Student250    3G   Male Chinese      68    60      59\n153 Student268    3H Female   Malay      68    61      64\n154 Student204    3F Female   Malay      69    75      54\n155 Student216    3F Female Chinese      69    67      69\n156 Student247    3G Female Chinese      69    62      58\n157 Student257    3G   Male   Malay      69    44      50\n158 Student021    3A   Male Chinese      70    90      72\n159 Student126    3D Female  Others      70    70      68\n160 Student192    3E   Male   Malay      70    66      63\n161 Student205    3F Female   Malay      70    70      58\n162 Student230    3F   Male   Malay      70    84      73\n163 Student237    3G Female   Malay      70    63      42\n164 Student048    3B Female Chinese      71    82      72\n165 Student096    3C   Male   Malay      71    65      57\n166 Student100    3C   Male Chinese      71    82      72\n167 Student103    3C   Male Chinese      71    75      52\n168 Student131    3D Female  Others      71    75      74\n169 Student161    3E Female   Malay      71    79      68\n170 Student173    3E Female Chinese      71    89      83\n171 Student182    3E   Male Chinese      71    77      72\n172 Student217    3F   Male Chinese      71    74      68\n173 Student267    3G Female Chinese      71    63      58\n174 Student020    3A Female Chinese      72    91      77\n175 Student073    3B   Male Chinese      72    83      69\n176 Student079    3C Female Chinese      72    60      37\n177 Student132    3D Female Chinese      72    71      61\n178 Student136    3D   Male Chinese      72    96      77\n179 Student147    3D   Male Chinese      72    79      79\n180 Student151    3D   Male Chinese      72    74      78\n181 Student168    3E Female   Malay      72    52      55\n182 Student025    3A   Male Chinese      73    91      74\n183 Student046    3B Female Chinese      73    65      75\n184 Student087    3C Female Chinese      73    85      71\n185 Student089    3C Female Chinese      73    74      68\n186 Student090    3C Female Chinese      73    73      69\n187 Student094    3C Female Chinese      73    69      62\n188 Student099    3C   Male Chinese      73    79      74\n189 Student111    3C   Male   Malay      73    66      53\n190 Student118    3D Female Chinese      73    81      65\n191 Student120    3D Female Chinese      73    72      70\n192 Student122    3D Female Chinese      73    77      76\n193 Student143    3D   Male Chinese      73    74      72\n194 Student146    3D   Male Chinese      73    79      66\n195 Student150    3D   Male   Malay      73    85      71\n196 Student153    3D   Male Chinese      73    83      74\n197 Student170    3E Female  Indian      73    83      57\n198 Student174    3E   Male   Malay      73    75      69\n199 Student181    3E   Male Chinese      73    77      68\n200 Student214    3F Female Chinese      73    82      62\n201 Student088    3C Female Chinese      74    88      72\n202 Student101    3C   Male Chinese      74    75      80\n203 Student113    3C   Male Chinese      74    78      71\n204 Student137    3D   Male Chinese      74    86      77\n205 Student139    3D   Male Chinese      74    87      65\n206 Student158    3E Female Chinese      74    82      75\n207 Student169    3E Female Chinese      74    59      61\n208 Student236    3G Female Chinese      74    60      46\n209 Student067    3B   Male Chinese      75    84      80\n210 Student074    3B   Male Chinese      75    83      75\n211 Student093    3C Female Chinese      75    85      71\n212 Student110    3C   Male   Malay      75    76      72\n213 Student154    3D   Male Chinese      75    58      67\n214 Student178    3E   Male Chinese      75    68      64\n215 Student195    3F Female Chinese      75    70      73\n216 Student011    3A Female Chinese      76    91      74\n217 Student024    3A   Male Chinese      76    88      72\n218 Student035    3A   Male Chinese      76    89      71\n219 Student083    3C Female   Malay      76    75      63\n220 Student124    3D Female Chinese      76    67      53\n221 Student165    3E Female Chinese      76    82      67\n222 Student166    3E Female Chinese      76    80      75\n223 Student172    3E Female Chinese      76    71      62\n224 Student187    3E   Male Chinese      76    88      71\n225 Student053    3B Female Chinese      77    79      77\n226 Student054    3B Female Chinese      77    85      78\n227 Student063    3B Female Chinese      77    69      72\n228 Student068    3B   Male Chinese      77    93      82\n229 Student072    3B   Male Chinese      77    79      76\n230 Student104    3C   Male Chinese      77    91      72\n231 Student109    3C   Male   Malay      77    81      69\n232 Student125    3D Female Chinese      77    85      78\n233 Student129    3D Female Chinese      77    80      66\n234 Student134    3D Female Chinese      77    74      67\n235 Student142    3D   Male Chinese      77    89      80\n236 Student164    3E Female   Malay      77    54      68\n237 Student194    3E Female Chinese      77    78      72\n238 Student196    3F Female Chinese      77    80      69\n239 Student222    3F   Male   Malay      77    77      72\n240 Student006    3A Female Chinese      78    75      70\n241 Student032    3A   Male   Malay      78    85      84\n242 Student045    3B Female   Malay      78    83      65\n243 Student070    3B   Male   Malay      78    95      70\n244 Student092    3C Female Chinese      78    86      84\n245 Student108    3C   Male Chinese      78    78      70\n246 Student138    3D   Male  Indian      78    78      65\n247 Student149    3D   Male   Malay      78    83      79\n248 Student152    3D   Male  Others      78    61      74\n249 Student160    3E Female   Malay      78    71      49\n250 Student019    3A Female Chinese      79    77      70\n251 Student023    3A   Male Chinese      79    94      79\n252 Student028    3A   Male Chinese      79    90      80\n253 Student065    3B Female Chinese      79    91      85\n254 Student069    3B   Male Chinese      79    86      81\n255 Student080    3C Female   Malay      79    73      58\n256 Student086    3C Female   Malay      79    79      69\n257 Student091    3C Female Chinese      79    82      61\n258 Student095    3C Female Chinese      79    86      75\n259 Student107    3C   Male Chinese      79    92      61\n260 Student144    3D   Male Chinese      79    86      77\n261 Student004    3A Female Chinese      80    89      73\n262 Student034    3A   Male Chinese      80    88      78\n263 Student055    3B Female Chinese      80    89      85\n264 Student060    3B Female   Malay      80    79      77\n265 Student078    3B Female Chinese      80    97      83\n266 Student081    3C Female Chinese      80    76      69\n267 Student239    3G Female   Malay      80    56      52\n268 Student005    3A Female Chinese      81    79      62\n269 Student052    3B Female Chinese      81    85      82\n270 Student062    3B Female   Malay      81    87      81\n271 Student102    3C   Male Chinese      81    78      70\n272 Student121    3D Female   Malay      81    82      71\n273 Student123    3D Female Chinese      81    74      70\n274 Student128    3D Female  Others      81    76      70\n275 Student008    3A Female Chinese      82    78      82\n276 Student047    3B Female Chinese      82    86      78\n277 Student058    3B Female   Malay      82    81      65\n278 Student064    3B Female   Malay      82    87      78\n279 Student130    3D Female   Malay      82    80      67\n280 Student014    3A Female Chinese      83    93      84\n281 Student018    3A Female  Indian      83    90      83\n282 Student029    3A   Male Chinese      83    87      89\n283 Student050    3B Female Chinese      83    89      84\n284 Student066    3B   Male Chinese      83    97      88\n285 Student075    3B   Male Chinese      83    80      79\n286 Student084    3C Female Chinese      83    76      56\n287 Student127    3D Female   Malay      83    81      60\n288 Student003    3A Female Chinese      84    91      82\n289 Student037    3A   Male Chinese      84    91      74\n290 Student041    3B Female Chinese      84    85      78\n291 Student043    3B Female Chinese      84    97      88\n292 Student051    3B Female Chinese      84    83      70\n293 Student057    3B Female   Malay      84    90      80\n294 Student027    3A   Male Chinese      85    98      80\n295 Student031    3A   Male Chinese      85    91      78\n296 Student044    3B Female Chinese      85    92      84\n297 Student049    3B Female Chinese      85    86      83\n298 Student056    3B Female Chinese      85    86      77\n299 Student059    3B Female   Malay      85    74      75\n300 Student061    3B Female   Malay      85    87      79\n301 Student076    3B   Male Chinese      85    85      82\n302 Student135    3D Female Chinese      85    86      81\n303 Student001    3A Female Chinese      86    90      85\n304 Student033    3A   Male Chinese      86    95      84\n305 Student038    3A   Male Chinese      86    91      87\n306 Student071    3B   Male Chinese      86    91      88\n307 Student077    3B   Male Chinese      86    91      88\n308 Student009    3A Female Chinese      87    95      82\n309 Student022    3A   Male Chinese      87    90      91\n310 Student042    3B Female  Indian      87    92      81\n311 Student007    3A Female Chinese      88    91      86\n312 Student030    3A   Male Chinese      88    89      83\n313 Student040    3A Female   Malay      88    87      85\n314 Student039    3A   Male Chinese      89    97      90\n315 Student002    3A Female Chinese      90    93      89\n316 Student013    3A Female Chinese      90    97      90\n317 Student017    3A Female Chinese      90    85      89\n318 Student016    3A Female Chinese      91    95      91\n319 Student015    3A Female  Others      92    90      87\n320 Student010    3A Female Chinese      93    93      90\n321 Student012    3A Female Chinese      93    97      84\n322 Student036    3A   Male Chinese      96    99      96\n```\n\n\n:::\n:::\n\n\n### **3.3 One-sample test: gghistostats() method**\n\nIn the code chunk below, [*gghistostats()*](https://indrajeetpatil.github.io/ggstatsplot/reference/gghistostats.html) is used to to build an visual of one-sample test on English scores.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nset.seed(1234)\n\ngghistostats(data = Exam_data,\n             x = ENGLISH,\n             type = \"bayes\",\n             test.value = 60,\n             xlab = \"English scores\")\n```\n\n::: {.cell-output-display}\n![](Hands-on_Ex04-a-_files/figure-html/unnamed-chunk-3-1.png){width=672}\n:::\n:::\n\n\n### **3.4 Unpacking the Bayes Factor**\n\n-   A Bayes factor is the ratio of the likelihood of one particular hypothesis to the likelihood of another. It can be interpreted as a measure of the strength of evidence in favor of one theory among two competinf theories.\n\n-   That's because the Bayes factor gives us a way to evaluate the data in favor of a null hypothesis, and to use external information to do so. It tells us what the weight of the evidence os in favor of a given hypothesis.\n\n-   When we are comparing two hypotheses, H1(the alternate hypothesis) and H0 (the null hypothesis), the Bayes Factor is often written as B10, It can be defined mathematically as:![](Bayes.jpeg)\n\n-   The [**Schwarz criterion**](https://www.statisticshowto.com/bayesian-information-criterion/) is one of the easiest ways to calculate rough approximation of the Bayes Factor.\n\n### 3.5 How to interpret Bayes Factor\n\nA **Bayes Factor** can be any positive number. One of the most common interpretations is this one—first proposed by Harold Jeffereys (1961) and slightly modified by [Lee and Wagenmakers](https://www-tandfonline-com.libproxy.smu.edu.sg/doi/pdf/10.1080/00031305.1999.10474443?needAccess=true) in 2013:![](Bayes%20Factor.jpeg)\n\n### **3.6 Two-sample mean test: *ggbetweenstats()***\n\nIn the code chunk below, [*ggbetweenstats()*](https://indrajeetpatil.github.io/ggstatsplot/reference/ggbetweenstats.html) is used to build a visual for two-sample mean test of Maths scores by gender.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nggbetweenstats(data = Exam_data,\n               x = GENDER,\n               y = MATHS,\n               type = \"np\",\n               message = FALSE)\n```\n\n::: {.cell-output-display}\n![](Hands-on_Ex04-a-_files/figure-html/unnamed-chunk-4-1.png){width=672}\n:::\n:::\n\n\n### **3.7 Onewat ANOVA Test: *ggbetweenstats()* method**\n\nIn the code chunk below, [*ggbetweenstats()*](https://indrajeetpatil.github.io/ggstatsplot/reference/ggbetweenstats.html) is used to build a visual for One-way ANOVA test on English score by race.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nggbetweenstats(data = Exam_data,\n               x = RACE,\n               y = ENGLISH,\n               type = \"p\",\n               mean.ci = TRUE,\n               pairwise_comparisons = TRUE,\n               pairwise.display = \"s\",\n               p.adjust.method = \"fdr\",\n               messages = FALSE)\n```\n\n::: {.cell-output-display}\n![](Hands-on_Ex04-a-_files/figure-html/unnamed-chunk-5-1.png){width=672}\n:::\n:::\n\n\n#### **3.7.1 ggbetweenstats - Summary of tests**\n\n![](Summary%20of%20test.jpeg)\n\n![](Summary%20of%20test%202.jpeg)\n\n![](Summary%20of%20test%203.jpeg)\n\n![](Summary%20of%20test%204.jpeg)\n\n### **3.8 Significant Test of Correlation: ggscatterstats()**\n\nIn the code chunk below, [*ggscatterstats()*](https://indrajeetpatil.github.io/ggstatsplot/reference/ggscatterstats.html) is used to build a visual for Significant Test of Correlation between Maths scores and English scores.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nggscatterstats(data = Exam_data,\n               x = MATHS,\n               y = ENGLISH,\n               marginal = FALSE)\n```\n\n::: {.cell-output-display}\n![](Hands-on_Ex04-a-_files/figure-html/unnamed-chunk-6-1.png){width=672}\n:::\n:::\n\n\n### **3.9 Significant Test of Association (Depedence) : ggbarstats() methods**\n\nIn the code chunk below, the Maths scores is binned into a 4-class variable by using [*cut()*](https://www.rdocumentation.org/packages/base/versions/3.6.2/topics/cut).\n\n\n::: {.cell}\n\n```{.r .cell-code}\nExam_data1 <- Exam_data %>%\n  mutate(MATHS_bins = cut(MATHS,\n                          breaks = c(0,60,75,85,100)))\n```\n:::\n\n\nIn this code chunk below [*ggbarstats()*](https://indrajeetpatil.github.io/ggstatsplot/reference/ggbarstats.html) is used to build a visual for Significant Test of Association\n\n\n::: {.cell}\n\n```{.r .cell-code}\nggbarstats(Exam_data1,\n           x = MATHS_bins,\n           y = GENDER)\n```\n\n::: {.cell-output-display}\n![](Hands-on_Ex04-a-_files/figure-html/unnamed-chunk-8-1.png){width=672}\n:::\n:::\n\n\n## **4 Visualising Models**\n\nIn this section, you will learn how to visualise model diagnostic and model parameters by using parameters package.\n\n-   Toyota Corolla case study will be used. The purpose of study is to build a model to discover factors affecting prices of used-cars by taking into consideration a set of explanatory variables.\n\n    ![](images/clipboard-3258099855.png)\n\n## **5 Getting Started**\n\n## **6 Installing and loading the required libraries**\n\n\n::: {.cell}\n\n```{.r .cell-code}\npacman::p_load(readxl, performance, parameters, qqplort)\n```\n:::\n\n\n### **6.1 Installing and loading the required libraries**\n\nIn the code chunk below, [*read_xls()*](https://readxl.tidyverse.org/reference/read_excel.html) of [**readxl**](https://readxl.tidyverse.org/) package is used to import the data worksheet of `ToyotaCorolla.xls` workbook into R.\n\n\n::: {.cell}\n\n```{.r .cell-code}\ncar_resale <- read_xls(\"data/ToyotaCorolla.xls\",\n                       \"data\")\ncar_resale\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n# A tibble: 1,436 × 38\n      Id Model    Price Age_08_04 Mfg_Month Mfg_Year     KM Quarterly_Tax Weight\n   <dbl> <chr>    <dbl>     <dbl>     <dbl>    <dbl>  <dbl>         <dbl>  <dbl>\n 1    81 TOYOTA … 18950        25         8     2002  20019           100   1180\n 2     1 TOYOTA … 13500        23        10     2002  46986           210   1165\n 3     2 TOYOTA … 13750        23        10     2002  72937           210   1165\n 4     3  TOYOTA… 13950        24         9     2002  41711           210   1165\n 5     4 TOYOTA … 14950        26         7     2002  48000           210   1165\n 6     5 TOYOTA … 13750        30         3     2002  38500           210   1170\n 7     6 TOYOTA … 12950        32         1     2002  61000           210   1170\n 8     7  TOYOTA… 16900        27         6     2002  94612           210   1245\n 9     8 TOYOTA … 18600        30         3     2002  75889           210   1245\n10    44 TOYOTA … 16950        27         6     2002 110404           234   1255\n# ℹ 1,426 more rows\n# ℹ 29 more variables: Guarantee_Period <dbl>, HP_Bin <chr>, CC_bin <chr>,\n#   Doors <dbl>, Gears <dbl>, Cylinders <dbl>, Fuel_Type <chr>, Color <chr>,\n#   Met_Color <dbl>, Automatic <dbl>, Mfr_Guarantee <dbl>,\n#   BOVAG_Guarantee <dbl>, ABS <dbl>, Airbag_1 <dbl>, Airbag_2 <dbl>,\n#   Airco <dbl>, Automatic_airco <dbl>, Boardcomputer <dbl>, CD_Player <dbl>,\n#   Central_Lock <dbl>, Powered_Windows <dbl>, Power_Steering <dbl>, …\n```\n\n\n:::\n:::\n\n\nNotice that the output object `car_resale` is a tibble data frame.\n\n### **6.2 Multiple Regression Model using lm()**\n\nThe code chunk below is used to calibrate a multiple linear regression model by using *lm()* of Base Stats of R.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nmodel <- lm(Price ~ Age_08_04 + Mfg_Year + KM + \n              Weight + Guarantee_Period, data = car_resale)\nmodel\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n\nCall:\nlm(formula = Price ~ Age_08_04 + Mfg_Year + KM + Weight + Guarantee_Period, \n    data = car_resale)\n\nCoefficients:\n     (Intercept)         Age_08_04          Mfg_Year                KM  \n      -2.637e+06        -1.409e+01         1.315e+03        -2.323e-02  \n          Weight  Guarantee_Period  \n       1.903e+01         2.770e+01  \n```\n\n\n:::\n:::\n\n\n### **6.3 Model Diagnostic: checking for multicolinearity:**\n\nIn the code chunk, [*check_collinearity()*](https://easystats.github.io/performance/reference/check_collinearity.html) of [**performance**](https://easystats.github.io/performance/) package.\n\n\n::: {.cell}\n\n```{.r .cell-code}\ncheck_collinearity(model)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n# Check for Multicollinearity\n\nLow Correlation\n\n             Term  VIF     VIF 95% CI Increased SE Tolerance Tolerance 95% CI\n               KM 1.46 [ 1.37,  1.57]         1.21      0.68     [0.64, 0.73]\n           Weight 1.41 [ 1.32,  1.51]         1.19      0.71     [0.66, 0.76]\n Guarantee_Period 1.04 [ 1.01,  1.17]         1.02      0.97     [0.86, 0.99]\n\nHigh Correlation\n\n      Term   VIF     VIF 95% CI Increased SE Tolerance Tolerance 95% CI\n Age_08_04 31.07 [28.08, 34.38]         5.57      0.03     [0.03, 0.04]\n  Mfg_Year 31.16 [28.16, 34.48]         5.58      0.03     [0.03, 0.04]\n```\n\n\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\ncheck_c <- check_collinearity(model)\nplot(check_c)\n```\n\n::: {.cell-output-display}\n![](Hands-on_Ex04-a-_files/figure-html/unnamed-chunk-13-1.png){width=672}\n:::\n:::\n\n\n### **6.4 Model Diagnostic: checking normality assumption**\n\nIn the code chunk, [*check_normality()*](https://easystats.github.io/performance/reference/check_normality.html) of [**performance**](https://easystats.github.io/performance/) package.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nmodel1 <- lm(Price ~ Age_08_04 + KM + Weight + Guarantee_Period,\n             data = car_resale)\n```\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\ncheck_n <- check_normality(model1)\n```\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nplot(check_n)\n```\n\n::: {.cell-output-display}\n![](Hands-on_Ex04-a-_files/figure-html/unnamed-chunk-16-1.png){width=672}\n:::\n:::\n\n\n### **6.5 Model Diagnostic: Check model for homogeneity of variances**\n\nIn the code chunk, [*check_heteroscedasticity()*](https://easystats.github.io/performance/reference/check_heteroscedasticity.html) of [**performance**](https://easystats.github.io/performance/) package.\n\n\n::: {.cell}\n\n```{.r .cell-code}\ncheck_h <- check_heteroscedasticity(model1)\n```\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nplot(check_h)\n```\n\n::: {.cell-output-display}\n![](Hands-on_Ex04-a-_files/figure-html/unnamed-chunk-18-1.png){width=672}\n:::\n:::\n\n\n### **6.6 Model Diagnostic: Complete check**\n\nWe can also perform the complete by using [*check_model()*](https://easystats.github.io/performance/reference/check_model.html).\n\n\n::: {.cell}\n\n```{.r .cell-code}\ncheck_model(model1)\n```\n\n::: {.cell-output-display}\n![](Hands-on_Ex04-a-_files/figure-html/unnamed-chunk-19-1.png){width=672}\n:::\n:::\n\n\n### **6.7 Visualising Regression Parameters: see methods**\n\nIn the code below, plot() of see package and parameters() of parameters package is used to visualise the parameters of a regression model.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nplot(parameters(model1))\n```\n\n::: {.cell-output-display}\n![](Hands-on_Ex04-a-_files/figure-html/unnamed-chunk-20-1.png){width=672}\n:::\n:::\n\n\n### **6.8 Visualising Regression Parameters: *ggcoefstats()*methods**\n\nIn the code below, [*ggcoefstats()*](https://indrajeetpatil.github.io/ggstatsplot/reference/ggcoefstats.html) of ggstatsplot package to visualise the parameters of a regression model.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nggcoefstats(model1, \n            output = \"plot\")\n```\n\n::: {.cell-output-display}\n![](Hands-on_Ex04-a-_files/figure-html/unnamed-chunk-21-1.png){width=672}\n:::\n:::",
    "supporting": [
      "Hands-on_Ex04-a-_files"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}